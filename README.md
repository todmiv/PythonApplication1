# PythonApplication1 — Веб‑приложение Flask для отображения курсов валют ЦБ РФ

Проект представляет собой минимальное веб‑приложение на Flask, которое запрашивает ежедневный JSON с курсами валют у ЦБ РФ (https://www.cbr-xml-daily.ru/daily_json.js) и отображает данные в виде HTML‑таблицы по корневому маршруту `/`.

## Содержание
- О проекте
- Возможности
- Стек и зависимости
- Структура репозитория
- Быстрый старт
- Конфигурация
- Источник данных
- Качество и разработка
- Ограничения и известные проблемы
- Дорожная карта
- Вклад (Contributing)
- Лицензия

## О проекте
- Назначение: показать пример простого сервиса на Flask, который получает и визуализирует публичные данные (курсы валют) без базы данных и сложной бизнес‑логики.
- Статус: учебный/демо.

## Возможности
- Запрос ежедневного JSON с курсами валют у ЦБ РФ.
- Отображение данных в виде HTML‑таблицы на главной странице.

## Стек и зависимости
- Язык: Python 3.8+
- Веб‑фреймворк: Flask
- HTTP‑клиент: requests

Установка зависимостей приведена в разделе «Быстрый старт».

## Структура репозитория
```
PythonApplication1/
├── PythonApplication1.py           # Точка входа Flask‑приложения
├── PythonApplication1.pyproj       # Файл проекта Visual Studio (PTVS)
├── PythonApplication1.sln          # Файл решения Visual Studio
├── README.md                       # Описание проекта (вы этот файл читаете)
├── .gitignore                      # Исключения для Git
├── .gitattributes                  # Атрибуты Git
└── (служебные файлы инструментов)
```

## Быстрый старт
1) Клонирование репозитория:
```
git clone <URL_вашего_репозитория>
cd PythonApplication1
```

2) Создание и активация виртуального окружения (рекомендуется):
```
python -m venv .venv
# Windows PowerShell
.\.venv\Scripts\Activate.ps1
# или Windows CMD
.\.venv\Scripts\activate.bat
```

3) Установка зависимостей:
```
pip install -U pip
pip install flask requests
```

4) Запуск приложения (dev‑сервер Flask):
```
python PythonApplication1.py
```
По умолчанию сервер будет доступен по адресу http://127.0.0.1:5000/

## Конфигурация
- Переменные окружения:
  - FLASK_ENV=development — включает режим разработки (по умолчанию при локальном запуске).
  - PORT — порт для сервера (необязательно, по умолчанию 5000).
- Продакшен‑рекомендации:
  - Используйте WSGI‑сервер (gunicorn/waitress/uwsgi) и отдельный веб‑сервер/прокси (nginx/caddy) для продакшена.

## Источник данных
- Ежедневный JSON ЦБ РФ: https://www.cbr-xml-daily.ru/daily_json.js
- Обратите вниммание, что структура данных может меняться. В текущей версии приложение предполагает наличие ключа `Valute` со словарем валют.

## Качество и разработка
- Минимальные требования: Python 3.8+.
- Линтеры/форматтеры: не настроены по умолчанию. Рекомендуется добавить black/ruff/mypy при расширении проекта.
- Тесты: отсутствуют (демо‑проект). При развитии проекта рекомендуется покрывать ключевую логику модульными тестами (pytest).

## Ограничения и известные проблемы
- Заголовок HTML‑таблицы в текущей реализации сформирован некорректно (пустые <th> без текста и закрывающего тега). Для улучшения UX рекомендуется выводить человекочитаемые названия столбцов и фиксировать порядок колонок (например: CharCode, Name, Nominal, Value, Previous).
- Отсутствует обработка ошибок сети/таймаутов и кэширование ответов. При недоступности API выводится стандартная ошибка сервера.
- Dev‑сервер Flask не предназначен для продакшена.

## Дорожная карта
- [ ] Исправить формирование заголовков таблицы и фиксировать порядок столбцов.
- [ ] Добавить обработку ошибок и таймауты в HTTP‑запросе.
- [ ] Реализовать кэширование ответа API на 5–15 минут.
- [ ] Добавить базовый шаблон HTML с CSS, <thead>/<tbody> и форматирование чисел.
- [ ] Настроить тестирование (pytest) и линтеры (ruff/black).
- [ ] Подготовить контейнеризацию (Dockerfile) при необходимости.

## Вклад (Contributing)
Будем рады улучшениям. Предлагаемый процесс:
1) Форкните репозиторий и создайте ветку от main: `git checkout -b feature/your-feature`.
2) Внесите изменения, сопровождайте их понятными коммит‑сообщениями.
3) Убедитесь, что проект запускается локально и не ломает существующую функциональность.
4) Откройте Pull Request, описав сделанные изменения, мотивацию и способ проверки.

Смотри также CONTRIBUTING.md и CODE_OF_CONDUCT.md (будут добавлены).

## Лицензия
MIT License.
